## item 15 클래스와 멤버의 접근 권한을 최소화하라

- **모든 클래스와 멤버의 접근성을 가능한 한 좁혀야 한다**
    - 예를 들어 public으로 선언하면 API가 되어 외부에서 사용하기 때문에 하위 호환을 위해 계속 관리해줘야 한다.
        
        하지만, 만약 패키지 외부에서 쓸 일이 없어 package-private로 선언한다면 API가 아닌 내부 구현이 되어 언제든 수정할 수 있다. 즉, 클라이언트에 아무 피해 없이 다음 릴리즈에서 수정, 교체, 제거가 가능하다.
        
- 멤버 접근성을 좁히지 못하게 방해하는 제약이 존재 → 상위 클래스의 메서드를 재정의 할때 . 그접근 수준을 상위 클래스에서보다 좁게 설정할 수 없다는 것
    
    → 이 제약은 리스코프 치환 원칙(상위 클래스의 인스턴스는 하위 클래스의 인스턴스로 대체해 사용할 수 있어야 한다는 규칙)을 지키기 위해 필요
    
- **public 클래스의 인스턴스 필드는 되도록 public이 아니어야 함**
    - 필드가 가변 객체를 참조하거나, final이 아닌 인스턴스를 필드를 public으로 선언하면 그 필드에 담을 수 있는 값을 제한할 힘을 잃게 됨→ 그 필드와 관련된 모든 것은 불변식을 보장할 수 없게 됨
    - **public 가변 필드를 갖는 클래스는 일반적으로 thread safe하지 않음**
- 클래스에서 public static final 배열 필드를 두거나 이 필드를 반환하는 접근자 메서드는 제공하면 안됨
    - 이런 필드나 접근자를 제공하면 클라이언트에서 그 배열의 내용을 수정할 수 있게 되기 때문

### 핵심 정리

- 프로그램 요소의 접근성은 가능한 한 최소한으로 하라
- 꼭 필요한 것만 골라 최소한의 public API를 설계하자 그 외에는 클래스, 인터페이스, 멤버가 의도치 않게 API로 공개되는 일이 없도록 해야 함
- public 클래스는 상수용 public static final 필드 외에는 어떠한 public 필드도 가져서는 안된다.
    
    public static final 필드가 참조하는 객체가 불변인지 확인해야 한다.
